= form_for @inspection do |f|
  - if @inspection.errors.any?
    #error_explanation
      %h2= "#{pluralize(@inspection.errors.count, "error")} prohibited this inspection from being saved:"
      %ul
        - @inspection.errors.full_messages.each do |msg|
          %li= msg

  .columns.small-12.medium-6
    = render 'form_section_address', f:f
    = render 'form_section_permit', f:f
    = render 'form_section_type_express', f:f
  .columns.small-12.medium-6
    = render 'form_section_contact', f:f
    .row
      .margin-bottom-10 For which date would you like to schedule your inspection? *
      .max-width-px-400
        %input#inspection_requested_for_date.datepicker{ type:'text', name:'inspection[requested_for_date]', required:'true', "data-parsley-mindate" => next_available_date.strftime("%m/%d/%Y") }
        :javascript
          $('.datepicker').datepicker({
            minDate: #{ (next_available_date - Date.today).to_i },
            beforeShowDay: $.datepicker.noWeekends,
          });
      .margin-bottom-10 Preferred time of day:
      .max-width-px-400
        = f.select(:requested_for_time, options_for_select([['Anytime 8am-4pm', nil], ['Morning 8-12pm', 'am'], ['Afternoon 1-4pm', 'pm']]))
    .max-width-px-400
      .actions
        %button.button.expanded{ type: 'submit' } Submit

= javascript_include_tag "googleAutocomplete.js"
= javascript_include_tag "https://maps.googleapis.com/maps/api/js?key=AIzaSyCFYd57aJ13qV_PwYZ71xMJirGiKrVXuzs&libraries=places&callback=initAutocomplete"
